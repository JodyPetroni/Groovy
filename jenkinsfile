node {
    stage('SCM') {
        echo 'GETTING CODE FROM SORUCE CONTROL....'
        git branch:'${branch}', url: 'https://github.com/JodyPetroni/Groovy.git'
    }
    stage('Build') {
        echo 'Building....'
        sh '/usr/bin/dotnet --version'
        sh '/usr/bin/dotnet build src/console.csproj'
    }
    stage('install_deps') {
			steps {
				sh "sudo apt install wget zip python-pip -y"
				sh "cd /tmp"
				sh "curl -o terraform.zip https://releases.hashicorp.com/terraform/'$terraform_version'/terraform_'$terraform_version'_linux_amd64.zip"
				sh "unzip terraform.zip"
				sh "sudo mv terraform /usr/bin"
				sh "rm -rf terraform.zip"
			}
		}
    stage('Test') {
        echo 'Testing....'
        
        shared()
    }
    stage('Deploy') {
        echo 'Deploying....'
    }
}
